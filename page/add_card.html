<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, user-scalable=0,minimum-scale=0.5">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="">
<meta name="keywords" content="">
<link rel="stylesheet" type="text/css" href="../css/main.css">
<link rel="stylesheet" type="text/css" href="../css/footer.css">
<link rel="stylesheet" type="text/css" href="../css/header.css">
<link rel="stylesheet" type="text/css" href="../css/hm.css">
<link rel="stylesheet" type="text/css" href="../css/cirque.css">
<script src="../js/jquery-3.1.0.min.js"></script>
<script src="../js/fix_code.js"></script>
</head>
<body style="background:#e2e6e9">
      <!-- 顶部导航 -->
    <header class="bar-nav bar_new">
        <a onclick="" class="button button-nav pull-left">
            <span class="icon_back"></span>
        </a>
        <h1 class="title pull-left">绑定银行卡</h1>
    </header>
    <!-- 顶部导航 end -->
    <div class="content addcar">
        <div class="tips">为保证资金安全，银行卡信息须对应本人实名信息，众联贷承诺恪守用户信息。</div>
        <form action="bank_card.html">
        <div class="carinfo">
              <div class="project bor">
                <div class="pro_name">姓&nbsp;&nbsp;&nbsp;名</div>
                <input type="text" class="pro_val" placeholder='请输入持卡人真实姓名'>
              </div>
              <div class="project">
                <div class="pro_name">身份证</div>
                <input type="text" class="pro_val idcar" placeholder='请输入身份证号'>
              </div>
        </div>
        <div class="carinfo">
              <div class="project bor">
                <div class="pro_name">银行卡号</div>
                <input type="text" class="pro_val car_num" placeholder='请输入银行卡号'>
              </div>
              <div class="project">
                <div class="pro_name">开户银行</div>
                <input type="text" class="pro_val" id="bank_car" placeholder='请输入开户银行名'>
              </div>
        </div>
        <input type="submit" class="n_btn" value="确定">
        </form>
    </div>
    <script type="text/javascript">
            $(document).ready(function(){
                var idtest=/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}$)/;
                $('.idcar').blur(function(event) {
                  if(idtest.test($.trim($('.idcar').val()))){
                    
                  }else{
                    
                  }
                });
                //bank
                var bankinfo;
                $('.car_num').keyup(function(event) {
                  if($.trim($('.car_num').val()).length==6){
                    var bankname_inp=$.trim($('.car_num').val());
                          $.each(bankinfo, function(index, bankval) {
                             if(bankname_inp==bankval['bin']){
                              $('#bank_car').val(bankval['bankName']);
                              return;
                             }
                    })
                  }else if($.trim($('.car_num').val()).length<6){
                      $('#bank_car').val('');
                  }
                });
                    $.getJSON('../js/bankData.json',function(data){
                      bankinfo=data;
                  });
               
            })
    </script>
</body>
</html>